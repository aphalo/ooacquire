<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Apply filter-based stray-light correction — uvb_corrections â€¢ ooacquire</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ooacquire</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply filter-based stray-light correction</h1>
    </div>

    
    <p>Apply to a counts-per-second spectrum corrections based of a paired reading
obtained with a polycarbonate filter (long-pass with cut-off at 400 nm). This
is a bit more sofisticated than simple subtracting the filter reading from
the mesurement as the effect of the filter itself on stray light is corrected
for.</p>
    

    <pre class="usage"><span class='fu'>uvb_corrections</span>(<span class='no'>x</span>, <span class='kw'>spct.names</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='kw'>light</span> <span class='kw'>=</span> <span class='st'>"light"</span>, <span class='kw'>filter</span> <span class='kw'>=</span> <span class='st'>"filter"</span>, <span class='kw'>dark</span> <span class='kw'>=</span>
  <span class='st'>"dark"</span>), <span class='kw'>stray.light.method</span> <span class='kw'>=</span> <span class='st'>"original"</span>, <span class='kw'>stray.light.wl</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>218.5</span>,
  <span class='fl'>228.5</span>), <span class='kw'>flt.dark.wl</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>193</span>, <span class='fl'>209.5</span>), <span class='kw'>flt.ref.wl</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>360</span>, <span class='fl'>379.5</span>),
  <span class='kw'>flt.Tfr</span> <span class='kw'>=</span> <span class='fl'>0.9</span>, <span class='kw'>inst.dark.pixs</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>4</span>, <span class='kw'>worker.fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.verbose"</span>, <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>), <span class='no'>...</span>)

<span class='fu'>slit_function_correction</span>(<span class='no'>x</span>, <span class='kw'>worker.fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"photobiology.verbose"</span>, <span class='kw'>default</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>), <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>raw_mspct</code> The raw counts from measurements.</p></td>
    </tr>
    <tr>
      <th>spct.names</th>
      <td><p>named character vector of length three.</p></td>
    </tr>
    <tr>
      <th>stray.light.method</th>
      <td><p>Method variant used, "original" (Ylianttila),
"simple", "full", "sun", "raw", "none".</p></td>
    </tr>
    <tr>
      <th>stray.light.wl</th>
      <td><p>numeric vector of length 2 giving the range of
wavelengths to use for the final stray light correction.</p></td>
    </tr>
    <tr>
      <th>flt.dark.wl, flt.ref.wl</th>
      <td><p>numeric vectors of length 2 giving the ranges
of wavelengths to use for the "dark" and "illuminated" regions of the
array in the filter correction.</p></td>
    </tr>
    <tr>
      <th>flt.Tfr</th>
      <td><p>numeric fractional transmittance of the filter to the source
of stray light, used only for method "simple".</p></td>
    </tr>
    <tr>
      <th>inst.dark.pixs</th>
      <td><p>numeric vector with indexes to array pixels that
are in full drakness by instrument design.</p></td>
    </tr>
    <tr>
      <th>worker.fun</th>
      <td><p>function actually doing the correction on the w.lengths and
counts per second vectors.</p></td>
    </tr>
    <tr>
      <th>trim</th>
      <td><p>a numeric value to be used as argument for mean</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical indicating the level of warnings wanted.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional params passed to worker.fun.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>cps_spct</code> object with the corrected count-per-second values
  in coulmn "cps".</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p><code>stray.light.method = "none"</code> is a valid argument only for
  function <code>uvb_corrections()</code>. The default <code>worker.fun</code> is just an
  example. Corrections are specific to each individual spectrometer unit (not
  just type or configuration) and code needs to be written for most
  individual use cases. The slit function tail correction requires the
  characterization of the shape of the slit function by measuring one or more
  laser beams at suitable wavelengths.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href = 'http://www.r4photobiology.info'>http://www.r4photobiology.info</a></p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
          </ul>

    <h2>Author</h2>
    
Algorithm for method "original" developed by Lasse Ylianttila. Other
  methods are modified from Ylianttila's method by Pedro J. Aphalo.

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pedro J. Aphalo, Lasse Ylianttila.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
