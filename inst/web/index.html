<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Index. ooacquire 0.1.1.9001</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">ooacquire 0.1.1.9001</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <div class="row">
  <div class="span8">
    <h1>R package &#39;ooacquire&#39;</h1>

<p>Package <strong>ooacquire</strong> provides a set of high level functions for spectral data acquisition built using package <strong>rOmniDriver</strong> as a base. It is very flexible with respect to measuring protocols. It caters for all steps involved in the acquisition of spectral data from connecting to the instrument(s) and retrieving information from its/their non-volatile memory, setting and adjusting acquisition parameters, acquiring raw counts and converting them into counts per second. It supports bracketing of the integration time for high dynamic range (HDR) protocols, both with respect to acquisition and merging of the data. It also supports protocols in which the total measuring time is kept constant by adjusting integration time and number of scans averaged in coordination. It works seamlessly together with package <strong>photobiology</strong> on which it also depends.</p>

<p>The package <strong>rOmniDriver</strong> makes available in R the functions in OmniDriver SDP from Ocean Optics. OmniDriver allows to change settings and acquire spectra using any Ocean Optics USB-connected spectrometer. It has been tested with our <em>Maya2000Pro</em>, <em>Flame</em> and <em>Jaz</em> instruments under MS-windows 7 and MS-Windows 10, but should also work with any other modern spectrometer from Ocean Optics, and also under OS X, and Linux. However, only a subset of all OmniDriver exported functions are implemented (those functions that write to the instrument EEPROM are not implemented as they require a secret key for activation, and in addition their use without risk requires a profound understanding of the instruments&#39; hardware and firmware). As currently the API documentation is freely available at Ocean Optics&#39; support page, adding additional functions using the source code of the functions included in our package as examples is almost trivial.</p>

<p>In addition to directly acquired RAW counts data, raw-counts spectra acquired with <em>OceanView</em> or <em>SpectraSuite</em> programs from Ocean Optics stored in files can be used as the starting point for the computation of spectra expressed as corrected counts-per-second with the same flexibility as for directly acquired spectra.</p>

<p>High level functions in this package and in package <strong>photobiology</strong> allow the easy conversion of counts-per-second into the physical quantities of interest such as spectral irradiance, spectral transmittance, spectral reflectance and spectral absorbance. </p>

<p>Our package&#39;s functions related to direct data acquisition use the free OmniDriver run-time driver, which can be downloaded from the Ocean Optics web site should also installed, as well as Java, a requirement of the driver itself. There is no other set up needed, just plug your spectrometer to an USB port. The first time you connect an instrument the operating system will install the drivers as they are made available by the OmniDriver installation.</p>

<p>This package does NOT require <em>OceanView</em> or <em>SpectraSuite</em> to be installed. It does not require the purchase of software from Ocean Optics, but it is not supported in any way by Ocean Optics, unless you acquire a licence to the SDP.</p>


    <h2>Help topics</h2>

    <h3>Package overview</h3>
    
    
    <ul class="index">
        
      <li>
        <code><a href="ooacquire-package.html">ooacquire-package</a></code>(ooacquire)<br />ooacquire: Acquire Spectral Data from Ocean Optics Spectrometers</li>
    
    </ul>
    <h3>Data acquisition</h3>
    <p>Functions related to direct acquisition of spectral data from array
  spectrometers from within R</p>

    
    <ul class="index">
        
      <li>
        <code><a href="start_session.html">start_session</a></code><br />Connect to Maya spectrometer</li>
            
      <li>
        <code><a href="end_session.html">end_session</a></code><br />Disconnect from spectrometer</li>
            
      <li>
        <code><a href="list_instruments.html">list_instruments</a></code><br />List connected spectrometers</li>
            
      <li>
        <code><a href="get_oo_descriptor.html">get_oo_descriptor</a></code><br />Get the instrument description and EEPROM data</li>
            
      <li>
        <code><a href="set_descriptor_wl.html">set_descriptor_wl</a></code><br />Replace wavelength values in an instrument description</li>
            
      <li>
        <code><a href="set_descriptor_bad_pixs.html">set_descriptor_bad_pixs</a></code><br />Add bad pixel informatoin to an instrument description</li>
            
      <li>
        <code><a href="set_descriptor_nl.html">set_descriptor_nl</a></code><br />Replace linearization function in instrument description.</li>
            
      <li>
        <code><a href="set_descriptor_irrad_mult.html">set_descriptor_irrad_mult</a></code><br />Add spectral irradiance calibration</li>
            
      <li>
        <code><a href="set_descriptor_integ_time.html">set_descriptor_integ_time</a></code><br />Replace integration time limits in instrument descriptor</li>
            
      <li>
        <code><a href="set_descriptor_slit_fun.html">set_descriptor_slit_fun</a></code><br />Add function for slit correction</li>
            
      <li>
        <code><a href="get_oo_settings.html">get_oo_settings</a></code><br />Get the current values of instrument settings</li>
            
      <li>
        <code><a href="acq_settings.html">acq_settings</a></code>(tune_acq_settings)<br />Settings for spectral measurement</li>
            
      <li>
        <code><a href="acq_raw_spct.html">acq_raw_spct</a></code><br />Measure one raw spectrum</li>
            
      <li>
        <code><a href="acq_raw_mspct.html">acq_raw_mspct</a></code><br />Take one set of spectral readings</li>
            
      <li>
        <code><a href="acq_irrad_interactive.html">acq_irrad_interactive</a></code>(acq_fraction_interactive)<br />Acquire spectra interactively</li>
    
    </ul>
    <h3>Data processing</h3>
    <p>Related to &#39;normal&#39; measurements</p>

    
    <ul class="index">
        
      <li>
        <code><a href="trim_counts.html">trim_counts</a></code><br />Replace out-of-range instrument counts</li>
            
      <li>
        <code><a href="bleed_nas.html">bleed_nas</a></code><br />Expand NA's to neighbouring pixels</li>
            
      <li>
        <code><a href="linearize_counts.html">linearize_counts</a></code><br />Function to apply linearization correction to raw counts data.</li>
            
      <li>
        <code><a href="skip_bad_pixs.html">skip_bad_pixs</a></code><br />Replace bad pixels</li>
            
      <li>
        <code><a href="ref_correction.html">ref_correction</a></code>(ref_correction.default, ref_correction.numeric, ref_correction.raw_spct, ref_correction.cps_spct)<br />Apply a correction to spectral data.</li>
            
      <li>
        <code><a href="MAYP11278_tail_correction.html">MAYP11278_tail_correction</a></code><br />Function to compute the tail correction</li>
            
      <li>
        <code><a href="MAYP112785_tail_correction.html">MAYP112785_tail_correction</a></code><br />Function to compute the tail correction</li>
            
      <li>
        <code><a href="uvb_corrections.html">uvb_corrections</a></code>(slit_function_correction, filter_correction, no_filter_correction)<br />Apply filter-based stray-light correction</li>
            
      <li>
        <code><a href="raw2cps.html">raw2cps</a></code>(raw2cps.default, raw2cps.numeric, raw2cps.raw_spct, raw2cps.raw_mspct)<br />Convert raw detector counts into counts per second (cps).</li>
            
      <li>
        <code><a href="merge_cps.html">merge_cps</a></code><br />Merge counts per second data</li>
            
      <li>
        <code><a href="which_descriptor.html">which_descriptor</a></code><br />Select which instrument descriptor to use</li>
    
    </ul>
    <h3>Data processing</h3>
    <p>Related &#39;calibration&#39; data (NOT YET WORKING!)</p>

    
    <ul class="index">
        
      <li>
        <code><a href="compute_irrad_calibration.html">compute_irrad_calibration</a></code><br />Compute calibration multipliers.</li>
    
    </ul>
    <h3>File reading</h3>
    <p>Raw-counts output files from <strong>OceanView</strong>,
           <strong>SpectraSuite</strong>, Raspberry Pi software and the inbuilt-firmware
           of the Jaz modular spectrometer</p>

    
    <ul class="index">
        
      <li>
        <code><a href="read_oo_data.html">read_oo_data</a></code><br />Read Files Saved by Ocean Optics' instruments or software.</li>
            
      <li>
        <code><a href="read_oo_ssdata.html">read_oo_ssdata</a></code><br />Read File Saved by Ocean Optics' SpectraSuite.</li>
            
      <li>
        <code><a href="read_oo_ovdata.html">read_oo_ovdata</a></code><br />Read File Saved by Ocean Optics' OceanView.</li>
            
      <li>
        <code><a href="read_oo_pidata.html">read_oo_pidata</a></code><br />Read File Saved by Ocean Optics' Raspberry Pi software.</li>
            
      <li>
        <code><a href="read_files2mspct.html">read_files2mspct</a></code><br />Read multiple files into raw_mspct object</li>
            
      <li>
        <code><a href="map_oofile_header_rows.html">map_oofile_header_rows</a></code><br />Set the instrument description.</li>
            
      <li>
        <code><a href="oofile_data_rows.html">oofile_data_rows</a></code><br />Find range of lines in file containing spectral data.</li>
            
      <li>
        <code><a href="set_oo_ssdata_settings.html">set_oo_ssdata_settings</a></code><br />Set the values of instrument settings from file header</li>
            
      <li>
        <code><a href="set_oo_ssdata_descriptor.html">set_oo_ssdata_descriptor</a></code><br />Set the instrument description.</li>
            
      <li>
        <code><a href="merge_raw_mspct.html">merge_raw_mspct</a></code><br />Merge raw spectra into a single multicolumn spectrum</li>
    
    </ul>
    <h3>High level functions and methods</h3>
    <p>Related to computation of
           counts-per-second or physical quantities</p>

    
    <ul class="index">
        
      <li>
        <code><a href="raw2corr_cps.html">raw2corr_cps</a></code><br />Convert raw detector counts into counts-per-second and correct</li>
            
      <li>
        <code><a href="s_irrad_corrected.html">s_irrad_corrected</a></code>(s_irrad_corrected.default, s_irrad_corrected.list, s_irrad_corrected.raw_mspct, s_irrad_corrected.raw_spct)<br />Convert raw counts data into spectral irradiance</li>
            
      <li>
        <code><a href="s_fraction_corrected.html">s_fraction_corrected</a></code>(s_fraction_corrected.default, s_fraction_corrected.list, s_fraction_corrected.raw_mspct)<br />Convert raw counts data into a spectral fraction</li>
    
    </ul>
    <h3>Example data</h3>
    <p>Calibrations</p>

    
    <ul class="index">
        
      <li>
        <code><a href="MAYP11278_descriptors.html">MAYP11278_descriptors</a></code><br />Instrument descriptors for a Maya2000 Pro  spectrometer</li>
            
      <li>
        <code><a href="MAYP11278_ylianttila.mthd.html">MAYP11278_ylianttila.mthd</a></code><br />Correction method definition</li>
            
      <li>
        <code><a href="MAYP11278_calib_dates.df.html">MAYP11278_calib_dates.df</a></code><br />Dates for which the different descriptors conatin valid calibrations.</li>
            
      <li>
        <code><a href="MAYP112785_descriptors.html">MAYP112785_descriptors</a></code><br />Instrument descriptors for a Maya2000 Pro  spectrometer</li>
            
      <li>
        <code><a href="MAYP112785_ylianttila.mthd.html">MAYP112785_ylianttila.mthd</a></code><br />Correction method definition</li>
            
      <li>
        <code><a href="MAYP112785_calib_dates.df.html">MAYP112785_calib_dates.df</a></code><br />Dates for which the different descriptors conatin valid calibrations.</li>
    
    </ul>
    <h3>Example data</h3>
    <p>Raw-counts spectra from measurements</p>

    
    <ul class="index">
        
      <li>
        <code><a href="UQG_Blue.raw_mspct.html">UQG_Blue.raw_mspct</a></code><br />Raw counts data for a filter measurement</li>
            
      <li>
        <code><a href="warm_white_LED.raw_mspct.html">warm_white_LED.raw_mspct</a></code><br />Raw counts data for a lamp measurement.</li>
    
    </ul>
  </div>
  
  <div class="span3 offset1">
    <h2>Vignettes</h2>
    <ul>
      <li><a href="vignettes/user-guide.html">User Guide</a></li>
    </ul>
        
    <h2>Dependencies</h2>
    <ul>
      
      <li><strong>Imports</strong>: grDevices, graphics, utils, Rcpp, ggplot2, photobiology, photobiologyWavebands, ggspectra, rOmniDriver, lubridate, anytime, polynom, stringr, tibble, dplyr, readr, testthat</li>
      <li><strong>Suggests</strong>: knitr, rmarkdown</li>
      
    </ul>
    <h2>Authors</h2>
    <ul>
      <li><a href="mailto:pedro.aphalo@helsinki.fi">Pedro J. Aphalo</a> [aut, trl, cre]</li>
      <li>Lasse Ylianttila [aut]</li>
      <li>Titta K. Kotilainen [ctb]</li>
    </ul>

  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>